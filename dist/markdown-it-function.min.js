/*! markdown-it-function 0.1.9 https://github.com/sguerri/markdown-it-function @license MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).markdownitFunction=t()}(this,(function(){"use strict";return function(e,t){var n;t=t||{},e.block.ruler.before("fence","function",(function(e,t){let n=e.bMarks[t]+e.tShift[t],r=e.src.substr(n,3);if(3!==r.length)return!1;if("@"!==r[0]||"@"!==r[1]||" "===r[2])return!1;let i=e.src.indexOf("\n",n+1),u=e.src.substr(n+2,i-n-2),l=e.parentType,f=e.lineMax;e.parentType="pmo";let o=t;e.lineMax=o;let c=e.push("function","div",0);return c.markup=u,c.block=!0,c.map=[t,o],e.md.block.tokenize(e,t+1,o),e.parentType=l,e.lineMax=f,e.line=o+1,!0}),{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.function=(n=t,function(e,t){let r=e[t];if(""===r.markup)return"";let i=/^([\w\d_-]+) *(\((.+)\))?/.exec(r.markup),u=i[1],l=i[3];if(l&&(l=l.trim()),Object.keys(n).includes(u)){if(l){if("{"===l[0]){try{l=JSON.parse(l)}catch(e){return""}let e=n[u];return Object.keys(l).forEach((t=>{e=e.replace(`$${t}`,l[t])})),e+"\n"}{let e=l.split(",").map((e=>e.trim())),t=n[u];for(let n=1;n<=e.length;n++)t=t.replace(`$${n}`,e[n-1]);return t+"\n"}}return n[u].trim()+"\n"}return`<p>@@${r.markup}</p>\n`})}}));
